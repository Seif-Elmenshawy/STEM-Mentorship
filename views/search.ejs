<!DOCTYPE html>
<html lang="<%= lang %>">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= lang==='ar' ? 'نتائج البحث' : 'Search Results' %> - Mentorship STEM</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <%- include('partials/header', { lang: lang }) %>
  
  <section class="hero-banner search-banner">
    <div class="hero-overlay"></div>
    <div class="container">
      <div class="hero-content" data-aos="fade-up">
        <span class="hero-badge"><%= lang==='ar' ? 'نتائج البحث' : 'Search Results' %></span>
        <h1 class="gradient-text">
          <%= lang==='ar' ? `البحث عن: "${query}"` : `Search for: "${query}"` %>
        </h1>
      </div>
    </div>
  </section>
  
  <div class="container">
    <div class="latex-box info-box" data-aos="fade-up">
      <div class="box-header">
        <i class="material-icons">search</i>
        <h2><%= lang==='ar' ? 'نتائج البحث' : 'Search Results' %></h2>
      </div>
      <div class="box-content">
        <div class="search-summary">
          <% if (results && results.length > 0) { %>
            <p>
              <%= lang==='ar' ? 
                `تم العثور على ${results.length} نتائج لبحثك عن "${query}"` : 
                `Found ${results.length} results for your search "${query}"` 
              %>
            </p>
          <% } else { %>
            <p>
              <%= lang==='ar' ? 
                `لم يتم العثور على نتائج لبحثك عن "${query}". جرب كلمات مفتاحية أخرى.` : 
                `No results found for your search "${query}". Try different keywords.` 
              %>
            </p>
          <% } %>
        </div>
      </div>
    </div>
    
    <div class="search-results-wrapper" data-aos="fade-up">
      <% if (results && results.length > 0) { %>
        <div class="search-filters theorem-box">
          <div class="theorem-title">
            <%= lang==='ar' ? 'تصفية النتائج' : 'Filter Results' %>
          </div>
          <div class="filter-options">
            <button class="filter-btn active" data-filter="all">
              <%= lang==='ar' ? 'الكل' : 'All' %>
            </button>
            <button class="filter-btn" data-filter="page">
              <%= lang==='ar' ? 'الصفحات' : 'Pages' %>
            </button>
            <button class="filter-btn" data-filter="resource">
              <%= lang==='ar' ? 'الموارد' : 'Resources' %>
            </button>
            <button class="filter-btn" data-filter="program">
              <%= lang==='ar' ? 'البرامج' : 'Programs' %>
            </button>
          </div>
        </div>
        
        <div class="search-results-list">
          <!-- Placeholder results -->
          <div class="search-result-item conceptbox" data-aos="fade-up">
            <div class="result-type">
              <span class="material-icons">article</span>
              <span class="type-label"><%= lang==='ar' ? 'صفحة' : 'Page' %></span>
            </div>
            <div class="result-content">
              <h3><a href="/program"><%= lang==='ar' ? 'برنامج التوجيه' : 'Mentorship Program' %></a></h3>
              <p><%= lang==='ar' ? 'برنامج شامل يغطي جميع مواد اختبار STEM، يتضمن مواد تعليمية وتدريبات عملية...' : 'A comprehensive program covering all STEM exam subjects, including educational materials and practical exercises...' %></p>
            </div>
            <div class="result-meta">
              <span class="result-match"><%= lang==='ar' ? 'تطابق: 92%' : 'Match: 92%' %></span>
            </div>
          </div>
          
          <div class="search-result-item conceptbox" data-aos="fade-up" data-aos-delay="100">
            <div class="result-type">
              <span class="material-icons">school</span>
              <span class="type-label"><%= lang==='ar' ? 'مورد' : 'Resource' %></span>
            </div>
            <div class="result-content">
              <h3><a href="/resources"><%= lang==='ar' ? 'مصادر ومراجع العلوم' : 'Science Resources' %></a></h3>
              <p><%= lang==='ar' ? 'مواد علمية وتجارب تفاعلية لمساعدة الطلاب على فهم المفاهيم والتطبيقات العلمية...' : 'Scientific materials and interactive experiments to help students understand scientific concepts and applications...' %></p>
            </div>
            <div class="result-meta">
              <span class="result-match"><%= lang==='ar' ? 'تطابق: 85%' : 'Match: 85%' %></span>
            </div>
          </div>
          
          <div class="search-result-item conceptbox" data-aos="fade-up" data-aos-delay="200">
            <div class="result-type">
              <span class="material-icons">auto_stories</span>
              <span class="type-label"><%= lang==='ar' ? 'مورد' : 'Resource' %></span>
            </div>
            <div class="result-content">
              <h3><a href="/resources"><%= lang==='ar' ? 'نماذج اختبار محاكاة' : 'Practice Test Forms' %></a></h3>
              <p><%= lang==='ar' ? 'نماذج أسئلة للتدريب على اختبار القبول، مع نصائح وحلول مفصلة...' : 'Practice questions for the entrance exam, with tips and detailed solutions...' %></p>
            </div>
            <div class="result-meta">
              <span class="result-match"><%= lang==='ar' ? 'تطابق: 78%' : 'Match: 78%' %></span>
            </div>
          </div>
        </div>
      <% } else { %>
        <div class="no-results theorem-box example-box" data-aos="fade-up">
          <div class="theorem-title">
            <%= lang==='ar' ? 'لم يتم العثور على نتائج' : 'No Results Found' %>
          </div>
          <div class="no-results-content">
            <div class="no-results-icon">
              <span class="material-icons">search_off</span>
            </div>
            <p><%= lang==='ar' ? 'لم نتمكن من العثور على نتائج تطابق بحثك. يرجى تجربة كلمات مفتاحية مختلفة أو التحقق من التهجئة.' : 'We couldn\'t find any results matching your search. Please try different keywords or check spelling.' %></p>
            <div class="search-suggestions">
              <h4><%= lang==='ar' ? 'اقتراحات البحث:' : 'Search Suggestions:' %></h4>
              <ul>
                <li><%= lang==='ar' ? 'استخدم كلمات مفتاحية أقل وأكثر تحديدًا' : 'Use fewer and more specific keywords' %></li>
                <li><%= lang==='ar' ? 'تحقق من التهجئة الصحيحة' : 'Check for correct spelling' %></li>
                <li><%= lang==='ar' ? 'جرب مصطلحات بديلة' : 'Try alternative terms' %></li>
              </ul>
            </div>
            <div class="popular-searches">
              <h4><%= lang==='ar' ? 'بحث شائع:' : 'Popular Searches:' %></h4>
              <div class="search-tags">
                <a href="/search?query=program&lang=<%= lang %>" class="search-tag"><%= lang==='ar' ? 'البرنامج' : 'program' %></a>
                <a href="/search?query=mathematics&lang=<%= lang %>" class="search-tag"><%= lang==='ar' ? 'الرياضيات' : 'mathematics' %></a>
                <a href="/search?query=science&lang=<%= lang %>" class="search-tag"><%= lang==='ar' ? 'العلوم' : 'science' %></a>
                <a href="/search?query=registration&lang=<%= lang %>" class="search-tag"><%= lang==='ar' ? 'التسجيل' : 'registration' %></a>
              </div>
            </div>
          </div>
        </div>
      <% } %>
    </div>
  </div>
  
  <%- include('partials/footer') %>
  
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize AOS
      AOS.init({
        duration: 800,
        once: true
      });
      
      // Filter functionality
      const filterButtons = document.querySelectorAll('.filter-btn');
      if (filterButtons.length > 0) {
        filterButtons.forEach(button => {
          button.addEventListener('click', function() {
            // Update active button
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            // In a real implementation, this would filter results
            // For now, just show a message
            const filterType = this.getAttribute('data-filter');
            console.log(`Filtering by: ${filterType}`);
            // You would actually filter the results here
          });
        });
      }
    });
  </script>
</body>
</html>
